<!DOCTYPE html>
<html lang="en">
<head>
	<title>Preview visualizations</title>
	<script>
      	function load() {
        	if(window.location.hash) {
 			var hash = window.location.hash.substring(1);
			initialize_visualization(hash);
			document.getElementById('url').value=hash;
			$("#visualization").on("loaded", function(){$("#loadingDiv").hide();});
			}
      	}
      	window.onload = load;
    </script>
	<meta charset="utf-8">
	<meta name=description content="Demo">
	<meta name=viewport content="width=device-width, initial-scale=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Bootstrap CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	<style>
	svg{
		border: 1px solid black;
	}
	th{
		font-size: 130%;
	}
	.bar{
		fill: steelblue;
	}
	</style>
	<style type="text/css">
	html { height: 100% }
	body { height: 100%; margin: 0; padding: 0 }
	#map-canvas { height: 100% }
	</style>

</head>
<body>
	<div class="container" id="container">

		<div class="page-header">
			<h1>HTML for testing</h1>
		</div>

		<div class="form-group">
			<label for="">Dataset URL (a <code>.csv</code> file)</label>
				<input type="text" id="url" class="form-control" id="" placeholder="Give me the URL of a dataset">
		</div>

		<button type="submit" id="go" class="btn btn-primary">Visualize!</button>
	
		<div id="loadingDiv" style="display: none; text-align: center; padding-top: 100px;">
			<img src="484.GIF">	
		</div>

		<div id="visualization" style="position:relative">

			<!-- AquÃ­ se dibuja la tabla -->
			<div id ="table-container" style="overflow: auto; position: relative; height: 100%; width: 1170px;">
				<table class="table table-hover" style="table-layout: fixed;">
					<thead>
						<tr id="headerrow">
						</tr>
					</thead>
					<tbody id="tbody">
					</tbody>
				</table>
			</div>
	
			<!-- div para visualizar en grande alguna de las columnas (por implementar) -->
			<div id="big-visualization"></div>
		</div>

	</div> <!-- /container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script charset="utf-8" src="d3.min.js"></script>
    <script src="jquery-1.11.1.js"></script>
    <script src="js/d3.layout.cloud.js"></script>
    <script src="js/wordcloud.js"></script>
    <script src="js/bar.js"></script>
    <script src="js/visualizations.js"></script>
    <script src="js/csv_utils.js"></script>
    <script src="js/dataDict.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<script type="text/javascript">

  		// Load the Visualization API library and the piechart library.
  		google.load('visualization', '1.0', {'packages':['annotationchart']});
	</script>

    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDs1FjpnXQMH1UOmqWKuG4LL0wT_oFrLa0">
    </script>

    <script>
	
	$("#go").on("click", function(){
		
		var url = d3.select("#url").node().value;
		window.location.hash=url;
		initialize_visualization(url);
		//initialize_map();
		$("#visualization").on("loaded", function(){$("#loadingDiv").hide();});
	});


    	
    </script>
</body>
</html>
