<!DOCTYPE html>
<html lang="en">
<head>
	<title>Preview visualizations</title>
	<meta charset="UTF-8">
	<meta name=description content="Demo">
	<meta name=viewport content="width=device-width, initial-scale=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Bootstrap CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	<style>
	svg{
		border: 1px solid black;
	}
	th{
		font-size: 130%;
	}
	.bar{
		fill: steelblue;
	}
	</style>
	<style type="text/css">
	html { height: 100% }
	body { height: 100%; margin: 0; padding: 0 }
	#map-canvas { height: 100% }
	</style>

</head>
<body>
	<div class="container" id="container">

		<div class="page-header">
			<h1>HTML for testing</h1>
		</div>

		<div class="form-group">
			<label for="">Dataset URL (a <code>.csv</code> file)</label>
				<input type="text" id="url" class="form-control" id="" placeholder="Give me the URL of a dataset">
		</div>

	<button type="submit" id="go" class="btn btn-primary">Visualize!</button>
	
	<!-- AquÃ­ se dibuja la tabla -->
	<div id="loadingDiv" style="display: none;">
		loading...	
	</div>
	<div id="visualization">

		<table class="table table-hover">
			<thead>
				<tr id="headerrow">
				</tr>
			</thead>
			<tbody id="tbody">
			</tbody>
		</table>
	
		<!-- div para dibujar un mapa -->
		<div id="map-canvas" style="width: 40%; height: 40%; position: absolute;"></div>
	</div>

	</div> <!-- /container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="d3.min.js"></script>
    <script src="jquery-1.11.1.js"></script>
    <script src="js/d3.layout.cloud.js"></script>
    <script src="js/wordcloud.js"></script>
    <script src="js/bar.js"></script>
    <script src="js/map.js"></script>
    <script src="js/csv_utils.js"></script>
    <script src="js/dataDict.js"></script>
    <script src="js/visualizations.js"></script>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDs1FjpnXQMH1UOmqWKuG4LL0wT_oFrLa0">
    </script>

    <script>
	
	$("#go").on("click", function(){
		
		$("#visualization").on("start_load", function(){$("#loadingDiv").show();});
		var url = d3.select("#url").node().value;
		initialize_visualization(url);
		//initialize_map();
		$("#visualization").on("loaded", function(){$("#loadingDiv").hide();});
	});


    	
    </script>
</body>
</html>
